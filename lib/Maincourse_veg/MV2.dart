import 'package:email_password_login/screens/Maincourse.dart';
import 'package:flutter/material.dart';
import 'package:email_password_login/screens/Cart.dart';
import 'package:email_password_login/screens/MapBeverage.dart';

class MV2 extends StatefulWidget {
  const MV2({Key? key}) : super(key: key);

  @override
  State<MV2> createState() => _MV2State();
}

class _MV2State extends State<MV2> {
  @override
  Widget build(BuildContext context) {
    return new WillPopScope(
        onWillPop: () async {
          Navigator.pushReplacement(context,
              new MaterialPageRoute(builder: (context) => MainCourse()));
          return true;
        },
        child: Scaffold(
          appBar: AppBar(
            backgroundColor: Colors.white,
            elevation: 0,
            leading: IconButton(
              icon: Icon(
                Icons.arrow_back,
                color: Colors.grey[800],
              ),
              onPressed: () {
                Navigator.of(context).pop();
              },
            ),
            title: Text(
              'Recipe',
              style: TextStyle(
                color: Colors.grey[800],
                fontWeight: FontWeight.bold,
                fontSize: 22,
              ),
            ),
            centerTitle: true,
          ),
          body: SingleChildScrollView(
            child: Container(
              margin: const EdgeInsets.only(bottom: 75),
              child: Column(
                children: [
                  Container(
                    width: double.infinity,
                    padding: const EdgeInsets.symmetric(horizontal: 20),
                    child: Text(
                      'MAIN COURSE (VEG)',
                      style: TextStyle(
                        color: Colors.green[800],
                        fontSize: 28,
                        fontWeight: FontWeight.bold,
                      ),
                    ),
                  ),
                  Padding(
                    padding: const EdgeInsets.symmetric(
                        horizontal: 20, vertical: 10),
                    child: ClipRRect(
                      borderRadius: BorderRadius.circular(25),
                      child: Image.network(
                        'https://www.yummytummyaarthi.com/wp-content/uploads/2014/09/1-27.jpg',
                        width: double.infinity,
                        height: 210,
                        fit: BoxFit.cover,
                      ),
                    ),
                  ),
                  Padding(
                    padding: const EdgeInsets.all(8.0),
                    child: Text(
                      'RS 196',
                      style: TextStyle(
                        color: Colors.green[800],
                        fontWeight: FontWeight.bold,
                        fontSize: 25,
                      ),
                    ),
                  ),
                  Text(
                    'CHILLI PANEER',
                    style: TextStyle(
                      color: Colors.grey[800],
                      fontSize: 23,
                      fontWeight: FontWeight.bold,
                    ),
                  ),
                  const SizedBox(height: 15),
                  Row(
                      mainAxisAlignment: MainAxisAlignment.spaceEvenly,
                      children: [
                        _buildIconText(
                            Icons.access_time_outlined, Colors.blue, '35 min'),
                        _buildIconText(
                            Icons.star_outlined, Colors.amber, '4.8'),
                        _buildIconText(Icons.local_fire_department_outlined,
                            Colors.red, '214 kcal'),
                      ]),
                  const SizedBox(height: 25),
                  ConstrainedBox(
                    constraints: const BoxConstraints.expand(
                      height: 45,
                      width: 300,
                    ),
                    child: ElevatedButton(
                      style: ElevatedButton.styleFrom(
                          primary: Colors.orange[800],
                          shape: RoundedRectangleBorder(
                            borderRadius: BorderRadius.circular(50),
                          ),
                          elevation: 5),
                      onPressed: () {
                        setState(() {
                          addValueTocartMap(cartmap, Vegs, 'object.2');
                        });
                      },
                      child: const Text(
                        'Add to Cart',
                        style: TextStyle(
                          color: Colors.white,
                          fontWeight: FontWeight.bold,
                          fontSize: 18,
                        ),
                      ),
                    ),
                  ),
                  const SizedBox(height: 30),
                  Row(children: [
                    Padding(
                      padding: const EdgeInsets.symmetric(horizontal: 25),
                      child: Text(
                        'Ingredients',
                        style: TextStyle(
                            color: Colors.grey[800],
                            fontWeight: FontWeight.bold,
                            fontSize: 20),
                      ),
                    ),
                  ]),
                  Row(children: const [
                    Padding(
                      padding:
                          EdgeInsets.symmetric(horizontal: 30, vertical: 10),
                      child: Text(
                        '1. Paneer\n'
                        '2. Corn Flour\n'
                        '3. Maida\n'
                        '4. Black Pepper\n'
                        '5. Salt\n'
                        '6. Oil\n'
                        '7. Garlic\n'
                        '8. Ginger\n'
                        '9. Green Chillies\n'
                        '10. Onion\n'
                        '11. Green Capsicum\n'
                        '12. Red Capsicum\n'
                        '13. Red Chilli Sauce\n'
                        '14. Soya Sauce\n'
                        '15. Vinegar\n',
                        style: TextStyle(fontSize: 18),
                      ),
                    ),
                  ]),
                  const SizedBox(height: 10),
                  Row(children: [
                    Padding(
                      padding: const EdgeInsets.symmetric(horizontal: 25),
                      child: Text(
                        'About',
                        style: TextStyle(
                            color: Colors.grey[800],
                            fontWeight: FontWeight.bold,
                            fontSize: 20),
                      ),
                    ),
                  ]),
                  const Padding(
                    padding: EdgeInsets.symmetric(horizontal: 30, vertical: 10),
                    child: Text(
                      'Chilli Paneer is a popular restaurant style Indo Chinese \n'
                      'starter that is great for a dinner party with friends and family.\n'
                      ' A spicy, tangy paneer recipe that you can serve as it is or \n'
                      'along with a bowl of rice. Loved by kids and adults alike,\n'
                      ' this is a quick and easy recipe made in just under 30 minutes!\n '
                      'This recipe yields one of the best chilli paneer dry that pairs well \n'
                      'with a veg fried rice, schezwan fried rice, hakka noodles for the\n'
                      ' main course or can be served as a starter.\n',
                      style: TextStyle(
                        fontSize: 18,
                        //color: Colors.black,
                      ),
                    ),
                  ),
                ],
              ),
            ),
          ),
        ));
  }

  Widget _buildIconText(IconData icon, Color color, String text) {
    return Row(
      children: [
        Icon(
          icon,
          color: color,
          size: 20,
        ),
        Text(text, style: const TextStyle(fontSize: 20)),
      ],
    );
  }
}
